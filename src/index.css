@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  -webkit-tap-highlight-color: transparent;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* 彈入動畫 */
@keyframes bounce-in {
  0% {
    opacity: 0;
    transform: scale(0.3);
  }
  50% {
    opacity: 1;
    transform: scale(1.05);
  }
  70% {
    transform: scale(0.9);
  }
  100% {
    transform: scale(1);
  }
}

.animate-bounce-in {
  animation: bounce-in 0.5s ease-out;
}

/* 淡入動畫 */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translate(-50%, 10px);
  }
  to {
    opacity: 1;
    transform: translate(-50%, 0);
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out;
}

/* 搖晃動畫（寵物互動） */
@keyframes wiggle {
  0%, 100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(-10deg);
  }
  75% {
    transform: rotate(10deg);
  }
}

.animate-wiggle {
  animation: wiggle 0.3s ease-in-out 2;
}

/* 向上飄動畫（愛心） */
@keyframes float-up {
  0% {
    opacity: 1;
    transform: translate(-50%, 0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -30px) scale(1.5);
  }
}

.animate-float-up {
  animation: float-up 1s ease-out forwards;
}

/* ============ 頭像框動畫 ============ */

/* 火焰框 */
@keyframes fire-glow {
  0%, 100% { box-shadow: 0 0 8px 2px rgba(255, 100, 0, 0.6), 0 0 16px 4px rgba(255, 60, 0, 0.3); }
  50% { box-shadow: 0 0 12px 4px rgba(255, 120, 0, 0.8), 0 0 24px 8px rgba(255, 60, 0, 0.4); }
}
.avatar-frame-fire {
  animation: fire-glow 2s ease-in-out infinite;
  border: 3px solid #ff6b00;
}

/* 冰晶框 */
@keyframes ice-pulse {
  0%, 100% { box-shadow: 0 0 8px 2px rgba(100, 180, 255, 0.5), 0 0 16px 4px rgba(60, 140, 255, 0.2); }
  50% { box-shadow: 0 0 12px 4px rgba(120, 200, 255, 0.7), 0 0 24px 8px rgba(80, 160, 255, 0.3); }
}
.avatar-frame-ice {
  animation: ice-pulse 3s ease-in-out infinite;
  border: 3px solid #64b5f6;
}

/* 彩虹框 */
@keyframes rainbow-rotate {
  0% { filter: hue-rotate(0deg); }
  100% { filter: hue-rotate(360deg); }
}
.avatar-frame-rainbow {
  border: 4px solid transparent;
  background-image: linear-gradient(white, white), conic-gradient(red, yellow, lime, aqua, blue, magenta, red);
  background-origin: border-box;
  background-clip: padding-box, border-box;
  animation: rainbow-rotate 3s linear infinite;
}

/* 黃金框 */
@keyframes gold-glow {
  0%, 100% { box-shadow: 0 0 8px 2px rgba(255, 215, 0, 0.5), 0 0 16px 4px rgba(255, 193, 7, 0.2); }
  50% { box-shadow: 0 0 14px 5px rgba(255, 215, 0, 0.7), 0 0 28px 10px rgba(255, 193, 7, 0.3); }
}
.avatar-frame-gold {
  animation: gold-glow 2.5s ease-in-out infinite;
  border: 3px solid #ffd700;
}

/* 鑽石框 */
@keyframes diamond-sparkle {
  0%, 100% { box-shadow: 0 0 8px 2px rgba(185, 242, 255, 0.6), 0 0 16px 4px rgba(130, 220, 255, 0.3); }
  25% { box-shadow: 3px -3px 12px 3px rgba(200, 245, 255, 0.8), -3px 3px 20px 6px rgba(150, 230, 255, 0.4); }
  50% { box-shadow: 0 0 10px 3px rgba(185, 242, 255, 0.7), 0 0 20px 6px rgba(130, 220, 255, 0.35); }
  75% { box-shadow: -3px -3px 12px 3px rgba(220, 250, 255, 0.8), 3px 3px 20px 6px rgba(170, 240, 255, 0.4); }
}
.avatar-frame-diamond {
  animation: diamond-sparkle 2s steps(4) infinite;
  border: 3px solid #b9f2ff;
}

/* ============ 主題背景 ============ */

.theme-ocean {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
}
.theme-forest {
  background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%) !important;
}
.theme-sunset {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%) !important;
}
.theme-galaxy {
  background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%) !important;
}

/* ============ 蛋孵化動畫 ============ */

@keyframes egg-shake {
  0%, 100% { transform: rotate(0deg); }
  20% { transform: rotate(-15deg); }
  40% { transform: rotate(15deg); }
  60% { transform: rotate(-10deg); }
  80% { transform: rotate(10deg); }
}
.animate-egg-shake {
  animation: egg-shake 0.5s ease-in-out;
}

@keyframes egg-crack {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1.2); opacity: 0; }
}
.animate-egg-crack {
  animation: egg-crack 0.8s ease-out forwards;
}

@keyframes egg-hatch {
  0% { transform: scale(0); opacity: 0; }
  50% { transform: scale(1.3); opacity: 1; }
  100% { transform: scale(1); opacity: 1; }
}
.animate-egg-hatch {
  animation: egg-hatch 0.6s ease-out forwards;
}

@keyframes egg-idle-wobble {
  0%, 100% { transform: rotate(0deg) translateY(0); }
  25% { transform: rotate(-3deg) translateY(-2px); }
  75% { transform: rotate(3deg) translateY(-2px); }
}
.animate-egg-wobble {
  animation: egg-idle-wobble 2s ease-in-out infinite;
}

/* ============ 像素寵物特效 ============ */

/* 容器 */
.pixel-pet-container {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 16px;
  transition: transform 0.2s;
}
.pixel-pet-container:hover {
  transform: scale(1.08);
}

/* --- Normal 普通浮動 --- */
@keyframes pixel-float-normal {
  0%, 100% { transform: translateY(0px); }
  50% { transform: translateY(-6px); }
}
.pixel-float-normal {
  animation: pixel-float-normal 3s ease-in-out infinite;
}

/* --- Rare 稀有浮動 + 微光 --- */
@keyframes pixel-float-rare {
  0%, 100% { transform: translateY(0px) scale(1); }
  50% { transform: translateY(-8px) scale(1.02); }
}
.pixel-float-rare {
  animation: pixel-float-rare 2.5s ease-in-out infinite;
}

/* --- Legendary 傳說浮動 + 脈動 --- */
@keyframes pixel-float-legendary {
  0%, 100% { transform: translateY(0px) scale(1); }
  25% { transform: translateY(-10px) scale(1.03); }
  75% { transform: translateY(-4px) scale(0.98); }
}
.pixel-float-legendary {
  animation: pixel-float-legendary 2s ease-in-out infinite;
}

/* --- Rare 光環 --- */
.pixel-aura-rare {
  border-radius: 50%;
  background: radial-gradient(circle, rgba(59,130,246,0.15) 0%, transparent 70%);
  box-shadow:
    0 0 20px rgba(59,130,246,0.3),
    0 0 40px rgba(59,130,246,0.15),
    inset 0 0 15px rgba(59,130,246,0.1);
}
@keyframes rare-shimmer {
  0%, 100% { box-shadow: 0 0 20px rgba(59,130,246,0.3), 0 0 40px rgba(59,130,246,0.15); }
  50% { box-shadow: 0 0 30px rgba(59,130,246,0.5), 0 0 60px rgba(59,130,246,0.25); }
}
.pixel-aura-rare {
  animation: rare-shimmer 2s ease-in-out infinite;
}

/* --- Legendary 光環 --- */
.pixel-aura-legendary {
  border-radius: 50%;
  background: radial-gradient(circle,
    rgba(251,191,36,0.2) 0%,
    rgba(245,158,11,0.1) 40%,
    transparent 70%
  );
  box-shadow:
    0 0 25px rgba(251,191,36,0.4),
    0 0 50px rgba(245,158,11,0.2),
    0 0 80px rgba(234,88,12,0.1),
    inset 0 0 20px rgba(251,191,36,0.15);
}
@keyframes legendary-glow {
  0%, 100% {
    box-shadow:
      0 0 25px rgba(251,191,36,0.4),
      0 0 50px rgba(245,158,11,0.2),
      0 0 80px rgba(234,88,12,0.1);
  }
  50% {
    box-shadow:
      0 0 35px rgba(251,191,36,0.6),
      0 0 70px rgba(245,158,11,0.35),
      0 0 100px rgba(234,88,12,0.2);
  }
}
.pixel-aura-legendary {
  animation: legendary-glow 1.8s ease-in-out infinite;
}

/* --- 粒子特效 --- */
.pixel-particles {
  position: absolute;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
}

/* 傳說粒子（金色上升光點） */
@keyframes particle-rise {
  0% {
    opacity: 0;
    transform: translateY(20px) scale(0);
  }
  20% {
    opacity: 1;
    transform: translateY(10px) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-40px) scale(0.3);
  }
}
.pixel-particle {
  position: absolute;
  bottom: 10%;
  width: 4px;
  height: 4px;
  background: #fbbf24;
  border-radius: 50%;
  box-shadow: 0 0 6px #fbbf24, 0 0 12px #f59e0b;
  animation: particle-rise 2s ease-out infinite;
}
.pixel-particle:nth-child(2n) {
  background: #fef08a;
  box-shadow: 0 0 6px #fef08a, 0 0 12px #fbbf24;
  width: 3px;
  height: 3px;
}
.pixel-particle:nth-child(3n) {
  background: #f59e0b;
  box-shadow: 0 0 4px #f59e0b;
  width: 2px;
  height: 2px;
}

/* 稀有閃光（藍色） */
@keyframes sparkle-flash {
  0%, 100% { opacity: 0; transform: scale(0) rotate(0deg); }
  50% { opacity: 1; transform: scale(1) rotate(180deg); }
}
.pixel-sparkle {
  position: absolute;
  top: 20%;
  width: 6px;
  height: 6px;
  background: transparent;
  box-shadow:
    -1px 0 0 #93c5fd,
    1px 0 0 #93c5fd,
    0 -1px 0 #93c5fd,
    0 1px 0 #93c5fd;
  animation: sparkle-flash 1.5s ease-in-out infinite;
}
.pixel-sparkle:nth-child(2) {
  box-shadow:
    -1px 0 0 #60a5fa,
    1px 0 0 #60a5fa,
    0 -1px 0 #60a5fa,
    0 1px 0 #60a5fa;
}

/* --- 像素寵物小尺寸（用於列表/排行榜） --- */
.pixel-pet-sm .pixel-pet-container {
  padding: 4px;
}
.pixel-pet-sm .pixel-particles {
  display: none;
}
